function pushToGitHub() {
  const data = fetchCalendarData(); // however you build your JSON

  const repo = 'your-username/your-repo';
  const path = 'calendar.json'; // or 'data/calendar.json'
  const token = 'YOUR_GITHUB_TOKEN';

  const payload = {
    message: "Update calendar data",
    committer: {
      name: "Your Name",
      email: "your@email.com"
    },
    content: Utilities.base64Encode(JSON.stringify(data, null, 2)),
    sha: getFileSHA(repo, path, token) // Needed to update file
  };

  const options = {
    method: 'put',
    contentType: 'application/json',
    payload: JSON.stringify(payload),
    headers: {
      Authorization: `token ${token}`
    }
  };

  const url = `https://api.github.com/repos/${repo}/contents/${path}`;
  UrlFetchApp.fetch(url, options);
}

function getFileSHA(repo, path, token) {
  const url = `https://api.github.com/repos/${repo}/contents/${path}`;
  const response = UrlFetchApp.fetch(url, {
    headers: {
      Authorization: `token ${token}`
    }
  });
  const json = JSON.parse(response.getContentText());
  return json.sha;
}
